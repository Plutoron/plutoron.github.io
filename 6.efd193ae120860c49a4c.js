(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{119:function(e,n){e.exports=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},120:function(e){e.exports=JSON.parse('{"a":[{"name":"浙江省","code":1,"cities":[{"name":"杭州市","code":11,"areas":[{"name":"西湖区","code":111},{"name":"余杭区","code":112}]},{"name":"宁波市","code":12,"areas":[{"name":"江北区","code":121},{"name":"江东区","code":122}]}]},{"name":"广东省","code":2,"cities":[{"name":"广州市","code":21,"areas":[{"name":"白云区","code":211},{"name":"天河区","code":212}]},{"name":"深圳市","code":22,"areas":[{"name":"宝安区","code":221},{"name":"南山区","code":222}]}]}]}')},121:function(e,n){e.exports='<h4 id="目录结构">目录结构</h4>\n<ul>\n<li>demo.js</li>\n<li>province.json</li>\n<li>region-select.js</li>\n<li>region-select-v2.js</li>\n<li>region-select-v2-item.js</li>\n</ul>\n<h5 id="demojs">demo.js</h5>\n<pre><code>import {Component, Fragment} from &#39;react&#39;\nimport RegionSelect from &#39;./region-select&#39;\nimport RegionSelectV2 from &#39;./region-select-v2&#39;\n\nimport {provinces} from &#39;./provinces.json&#39;\n\nclass Demo extends Component {\n  state = {\n    value: [1, 11, 111],\n  }\n\n  handleRegionChange = value =&gt; {\n    console.log(value)\n  }\n\n  // format 数据格式 为 antd 通用的 数据格式\n  formatProvince = (item) =&gt; {\n    const formated = item.map(v =&gt; {\n      let children = []\n\n      if (v.areas || v.cities) {\n        children = this.formatProvince(v.areas || v.cities)\n      }\n\n      return {\n        label: v.name,\n        value: v.code,\n        children,\n      }\n    })\n\n    return formated\n  }\n\n  render() {\n    const { value } = this.state\n\n    return (&lt;Fragment&gt;\n      &lt;div&gt;Normal&lt;/div&gt;\n\n      &lt;RegionSelect\n        defaultValue={value} \n        dataSource={this.formatProvince(provinces)}\n        onChange={this.handleRegionChange}\n        showSearch\n        allowClear\n      /&gt;\n\n      &lt;div&gt;v2&lt;/div&gt;\n\n      &lt;RegionSelectV2\n        defaultValue={value} \n        dataSource={this.formatProvince(provinces)}\n        onChange={this.handleRegionChange}\n        showSearch\n        allowClear\n      /&gt;\n    &lt;/Fragment&gt;)\n  }\n}\n\nexport default Demo</code></pre><h5 id="region-selectjs">region-select.js</h5>\n<pre><code>import React, {Component} from &#39;react&#39;\nimport {Select} from &#39;antd&#39;\n\nconst {Option} = Select\n\nclass RegionSelect extends Component {\n  state = {\n    value: this.props.defaultValue,\n    provinceList: [],\n    cityList: [],\n    areaList: [],\n    loading: false,\n  }\n\n  componentDidMount() {\n    this.getLists()\n  }\n\n  getLists = () =&gt; {\n    const {\n      props: {dataSource},\n      state: {value},\n    } = this\n\n    this.setState({\n      loading: true\n    })\n\n    const provinceList = [...dataSource]\n\n    const curProvince = dataSource.filter(v =&gt; v.value === value[0])\n\n    const cityList = curProvince.length &gt; 0 ? (curProvince[0].children || []) : []\n\n    const areaList = cityList.length &gt; 0 ? (cityList[0].children || []) : []\n\n    this.setState({\n      provinceList,\n      cityList,\n      areaList,\n      loading: false,\n    })\n  }\n\n  onProvinceChange = (provinceCode, extra) =&gt; {\n    const {\n      props: {onChange},\n    } = this\n\n    const value = [provinceCode, undefined, undefined]\n\n    this.setState({\n      cityList: extra ? extra.props.data : [],\n      areaList: [],\n      value,\n    })\n\n    onChange(value)\n  }\n\n  onCityChange = (cityCode, extra) =&gt; {\n    const {\n      props: {onChange},\n      state: {value},\n    } = this\n\n    value[1] = cityCode\n    value[2] = undefined\n\n    this.setState({\n      areaList: extra ? extra.props.data : [],\n      value,\n    })\n\n    onChange(value)\n  }\n\n  onAreaChange = (areaCode, extra) =&gt; {\n    const {\n      props: {onChange},\n      state: {value},\n    } = this\n\n    value[2] = areaCode\n\n    this.setState({\n      value,\n    })\n\n    onChange(value)\n  }\n\n  render() {\n    const {\n      props: {\n        showSearch,\n        allowClear,\n      },\n      state: {\n        provinceList,\n        cityList,\n        areaList,\n        value,\n        loading,\n      },\n    } = this\n\n    if (loading) return &lt;div&gt;加载中&lt;/div&gt;\n\n    return (\n      &lt;div style={{display: &#39;flex&#39;}}&gt;\n        &lt;div&gt;\n          省：\n          &lt;Select \n            value={value[0]} \n            style={{minWidth: 100, marginRight: 8}} \n            onChange={this.onProvinceChange}\n            showSearch={showSearch}\n            allowClear={allowClear}\n            placeholder=&quot;请选择&quot;\n            notFoundContent={&#39;暂无数据&#39;}\n            optionFilterProp={&#39;children&#39;}\n          &gt;\n            {\n              provinceList.map(v =&gt; &lt;Option value={v.value} data={v.children}&gt;{v.label}&lt;/Option&gt;)\n            }\n          &lt;/Select&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          市：\n          &lt;Select \n            value={value[1]} \n            style={{minWidth: 100, marginRight: 8}} \n            onChange={this.onCityChange} \n            showSearch={showSearch}\n            allowClear={allowClear}\n            placeholder=&quot;请选择&quot;\n            notFoundContent={&#39;请先选择省&#39;}\n            optionFilterProp={&#39;children&#39;}\n          &gt;\n            {\n              cityList.map(v =&gt; &lt;Option value={v.value} data={v.children}&gt;{v.label}&lt;/Option&gt;)\n            }\n          &lt;/Select&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          区：\n          &lt;Select \n            value={value[2]} \n            style={{minWidth: 100}} \n            onChange={this.onAreaChange} \n            showSearch={showSearch}\n            allowClear={allowClear}\n            placeholder=&quot;请选择&quot;\n            notFoundContent={&#39;请先选择市&#39;}\n            optionFilterProp={&#39;children&#39;}\n          &gt;\n            {\n              areaList.map(v =&gt; &lt;Option value={v.value}&gt;{v.label}&lt;/Option&gt;)\n            }\n          &lt;/Select&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n\nexport default RegionSelect</code></pre><h5 id="region-select-v2js">region-select-v2.js</h5>\n<pre><code>import React, {Component} from &#39;react&#39;\nimport RegionSelectItem from &#39;./region-select-v2-item&#39;\n\nclass RegionSelectV2 extends Component {\n  ... // 和上面的一样\n  ...\n\n  render() {\n    const {\n      props: {\n        showSearch,\n        allowClear,\n      },\n      state: {\n        provinceList,\n        cityList,\n        areaList,\n        value,\n        loading,\n      },\n    } = this\n\n    if (loading) return &lt;div&gt;加载中&lt;/div&gt;\n\n    return (\n      &lt;div style={{display: &#39;flex&#39;}}&gt;\n        &lt;div&gt;\n          &lt;RegionSelectItem \n            label={&#39;省&#39;}\n            separator={&#39;：&#39;}\n            value={value[0]} \n            style={{minWidth: 100, marginRight: 8}} \n            onChange={this.onProvinceChange}\n            showSearch={showSearch}\n            allowClear={allowClear}\n            placeholder=&quot;请选择&quot;\n            notFoundContent={&#39;暂无数据&#39;}\n            optionFilterProp={&#39;children&#39;}\n            options={provinceList}\n          /&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;RegionSelectItem \n            label={&#39;市&#39;}\n            separator={&#39;：&#39;}\n            value={value[1]} \n            style={{minWidth: 100, marginRight: 8}} \n            onChange={this.onCityChange} \n            showSearch={showSearch}\n            allowClear={allowClear}\n            placeholder=&quot;请选择&quot;\n            notFoundContent={&#39;请先选择省&#39;}\n            optionFilterProp={&#39;children&#39;}\n            options={cityList}\n          /&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;RegionSelectItem \n            label={&#39;区&#39;}\n            separator={&#39;：&#39;}\n            value={value[2]} \n            style={{minWidth: 100}} \n            onChange={this.onAreaChange} \n            showSearch={showSearch}\n            allowClear={allowClear}\n            placeholder=&quot;请选择&quot;\n            notFoundContent={&#39;请先选择市&#39;}\n            optionFilterProp={&#39;children&#39;}\n            options={areaList}\n          /&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n\nexport default RegionSelectV2</code></pre><h5 id="region-select-v2-itemjs">region-select-v2-item.js</h5>\n<pre><code>import * as React from &#39;react&#39;\nimport {Select} from &#39;antd&#39;\n\nconst {Option} = Select\n\nexport default ({\n  label, // 前面的label\n  separator, // 分割符\n  style, // 样式\n  className, // 类名\n  value, // 值\n  onChange, \n  showSearch, // 是否能搜索 同 antd Select\n  allowClear, // 是否支持清除 同 antd Select\n  placeholder, // 同 antd Select\n  notFoundContent, // 同 antd Select\n  optionFilterProp, // 同 antd Select\n  options, // 下拉数据\n}) =&gt; \n  &lt;&gt;\n    {\n      label ? \n        &lt;&gt;\n        {label}\n        {separator}\n        &lt;/&gt;\n        : null\n    }\n    &lt;Select \n      className={className}\n      style={{minWidth: 100, ...style}} \n      value={value} \n      onChange={onChange} \n      showSearch={showSearch}\n      allowClear={allowClear}\n      placeholder={placeholder}\n      notFoundContent={notFoundContent}\n      optionFilterProp={optionFilterProp}\n    &gt;\n      {\n        options.map(v =&gt; &lt;Option value={v.value} data={v.children}&gt;{v.label}&lt;/Option&gt;)\n      }\n    &lt;/Select&gt;\n  &lt;/&gt;</code></pre><h5 id="provincejson">province.json</h5>\n<pre><code>{\n  &quot;provinces&quot;: [\n    {\n      &quot;name&quot;: &quot;浙江省&quot;,\n      &quot;code&quot;: 1,\n      &quot;cities&quot;: [\n        {\n          &quot;name&quot;: &quot;杭州市&quot;,\n          &quot;code&quot;: 11,\n          &quot;areas&quot;: [{ &quot;name&quot;: &quot;西湖区&quot;, &quot;code&quot;: 111 }, { &quot;name&quot;: &quot;余杭区&quot;, &quot;code&quot;: 112 }]\n        },\n        {\n          &quot;name&quot;: &quot;宁波市&quot;,\n          &quot;code&quot;: 12,\n          &quot;areas&quot;: [{ &quot;name&quot;: &quot;江北区&quot;, &quot;code&quot;: 121 }, { &quot;name&quot;: &quot;江东区&quot;, &quot;code&quot;: 122 }]\n        }\n      ]\n    },\n    {\n      &quot;name&quot;: &quot;广东省&quot;,\n      &quot;code&quot;: 2,\n      &quot;cities&quot;: [\n        {\n          &quot;name&quot;: &quot;广州市&quot;,\n          &quot;code&quot;: 21,\n          &quot;areas&quot;: [{ &quot;name&quot;: &quot;白云区&quot;, &quot;code&quot;: 211 }, { &quot;name&quot;: &quot;天河区&quot;, &quot;code&quot;: 212 }]\n        },\n        {\n          &quot;name&quot;: &quot;深圳市&quot;,\n          &quot;code&quot;: 22,\n          &quot;areas&quot;: [{ &quot;name&quot;: &quot;宝安区&quot;, &quot;code&quot;: 221 }, { &quot;name&quot;: &quot;南山区&quot;, &quot;code&quot;: 222 }]\n        }\n      ]\n    }\n  ]\n}</code></pre>'},143:function(e,n,t){"use strict";t.r(n);var o=t(5),r=t.n(o),a=t(6),i=t.n(a),l=t(7),c=t.n(l),s=t(8),u=t.n(s),h=t(9),d=t.n(h),p=t(0),v=t.n(p),g=t(19),m=t.n(g),C=t(11),q=t.n(C),f=t(16),S=f.Select.Option,w=function(e){function a(){var e,i;r()(this,a);for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return(i=c()(this,(e=u()(a)).call.apply(e,[this].concat(t)))).state={value:i.props.defaultValue,provinceList:[],cityList:[],areaList:[],loading:!1},i.getLists=function(){var e=q()(i),n=e.props.dataSource,t=e.state.value;i.setState({loading:!0});var o=m()(n),a=n.filter(function(e){return e.value===t[0]}),l=0<a.length&&a[0].children||[],r=0<l.length&&l[0].children||[];i.setState({provinceList:o,cityList:l,areaList:r,loading:!1})},i.onProvinceChange=function(e,n){var t=q()(i).props.onChange,o=[e,void 0,void 0];i.setState({cityList:n?n.props.data:[],areaList:[],value:o}),t(o)},i.onCityChange=function(e,n){var t=q()(i),o=t.props.onChange,a=t.state.value;a[1]=e,a[2]=void 0,i.setState({areaList:n?n.props.data:[],value:a}),o(a)},i.onAreaChange=function(e,n){var t=q()(i),o=t.props.onChange,a=t.state.value;a[2]=e,i.setState({value:a}),o(a)},i}return d()(a,e),i()(a,[{key:"componentDidMount",value:function(){this.getLists()}},{key:"render",value:function(){var e=this.props,n=e.showSearch,t=e.allowClear,o=this.state,a=o.provinceList,l=o.cityList,r=o.areaList,i=o.value;return o.loading?v.a.createElement("div",null,"加载中"):v.a.createElement("div",{style:{display:"flex"}},v.a.createElement("div",null,"省：",v.a.createElement(f.Select,{value:i[0],style:{minWidth:100,marginRight:8},onChange:this.onProvinceChange,showSearch:n,allowClear:t,placeholder:"请选择",notFoundContent:"暂无数据",optionFilterProp:"children"},a.map(function(e){return v.a.createElement(S,{value:e.value,data:e.children},e.label)}))),v.a.createElement("div",null,"市：",v.a.createElement(f.Select,{value:i[1],style:{minWidth:100,marginRight:8},onChange:this.onCityChange,showSearch:n,allowClear:t,placeholder:"请选择",notFoundContent:"请先选择省",optionFilterProp:"children"},l.map(function(e){return v.a.createElement(S,{value:e.value,data:e.children},e.label)}))),v.a.createElement("div",null,"区：",v.a.createElement(f.Select,{value:i[2],style:{minWidth:100},onChange:this.onAreaChange,showSearch:n,allowClear:t,placeholder:"请选择",notFoundContent:"请先选择市",optionFilterProp:"children"},r.map(function(e){return v.a.createElement(S,{value:e.value},e.label)}))))}}]),a}(p.Component),y=t(119),L=t.n(y);function P(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,o)}return t}function b(e){var n=e.label,t=e.separator,o=e.style,a=e.className,l=e.value,r=e.onChange,i=e.showSearch,c=e.allowClear,s=e.placeholder,u=e.notFoundContent,h=e.optionFilterProp,d=e.options;return p.createElement(p.Fragment,null,n?p.createElement(p.Fragment,null,n,t):null,p.createElement(f.Select,{className:a,style:function(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?P(Object(t),!0).forEach(function(e){L()(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}({minWidth:100},o),value:l,onChange:r,showSearch:i,allowClear:c,placeholder:s,notFoundContent:u,optionFilterProp:h},d.map(function(e){return p.createElement(F,{value:e.value,data:e.children},e.label)})))}var F=f.Select.Option,R=function(e){function a(){var e,i;r()(this,a);for(var n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return(i=c()(this,(e=u()(a)).call.apply(e,[this].concat(t)))).state={value:i.props.defaultValue,provinceList:[],cityList:[],areaList:[],loading:!1},i.getLists=function(){var e=q()(i),n=e.props.dataSource,t=e.state.value;i.setState({loading:!0});var o=m()(n),a=n.filter(function(e){return e.value===t[0]}),l=0<a.length&&a[0].children||[],r=0<l.length&&l[0].children||[];i.setState({provinceList:o,cityList:l,areaList:r,loading:!1})},i.onProvinceChange=function(e,n){var t=q()(i).props.onChange,o=[e,void 0,void 0];i.setState({cityList:n?n.props.data:[],areaList:[],value:o}),t(o)},i.onCityChange=function(e,n){var t=q()(i),o=t.props.onChange,a=t.state.value;a[1]=e,a[2]=void 0,i.setState({areaList:n?n.props.data:[],value:a}),o(a)},i.onAreaChange=function(e,n){var t=q()(i),o=t.props.onChange,a=t.state.value;a[2]=e,i.setState({value:a}),o(a)},i}return d()(a,e),i()(a,[{key:"componentDidMount",value:function(){this.getLists()}},{key:"render",value:function(){var e=this.props,n=e.showSearch,t=e.allowClear,o=this.state,a=o.provinceList,l=o.cityList,r=o.areaList,i=o.value;return o.loading?v.a.createElement("div",null,"加载中"):v.a.createElement("div",{style:{display:"flex"}},v.a.createElement("div",null,v.a.createElement(b,{label:"省",separator:"：",value:i[0],style:{minWidth:100,marginRight:8},onChange:this.onProvinceChange,showSearch:n,allowClear:t,placeholder:"请选择",notFoundContent:"暂无数据",optionFilterProp:"children",options:a})),v.a.createElement("div",null,v.a.createElement(b,{label:"市",separator:"：",value:i[1],style:{minWidth:100,marginRight:8},onChange:this.onCityChange,showSearch:n,allowClear:t,placeholder:"请选择",notFoundContent:"请先选择省",optionFilterProp:"children",options:l})),v.a.createElement("div",null,v.a.createElement(b,{label:"区",separator:"：",value:i[2],style:{minWidth:100},onChange:this.onAreaChange,showSearch:n,allowClear:t,placeholder:"请选择",notFoundContent:"请先选择市",optionFilterProp:"children",options:r})))}}]),a}(p.Component),E=(t(23),t(120)),O=function(e){function l(){var e,t;r()(this,l);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=c()(this,(e=u()(l)).call.apply(e,[this].concat(o)))).state={defaultValue:[1,11,111]},t.handleRegionChange=function(e){console.log(e)},t.formatProvince=function(e){return e.map(function(e){var n=[];return(e.areas||e.cities)&&(n=t.formatProvince(e.areas||e.cities)),{label:e.name,value:e.code,children:n}})},t}return d()(l,e),i()(l,[{key:"render",value:function(){var e=this.state.defaultValue;return React.createElement(p.Fragment,null,React.createElement("div",{style:{marginBottom:8}},"Normal"),React.createElement(w,{defaultValue:e,dataSource:this.formatProvince(E.a),onChange:this.handleRegionChange,showSearch:!0,allowClear:!0}),React.createElement("div",{style:{marginBottom:8}},"v2"),React.createElement(R,{defaultValue:e,dataSource:this.formatProvince(E.a),onChange:this.handleRegionChange,showSearch:!0,allowClear:!0}),React.createElement("div",{style:{marginTop:16}},"markdown 代码区域"),React.createElement("article",{className:"markdown-body mt20 mb20",dangerouslySetInnerHTML:{__html:t(121)}}))}}]),l}(p.Component);n.default=O}}]);