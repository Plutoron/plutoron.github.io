### 处理树结构并输出

```javascript
const formatTree = list => {
  const getChildren = parentId => list.filter(v => v.parentId === parentId)

  list.forEach(item => {
    const children = getChildren(item.id)
    children.length > 0 && (item.children = children)
  })

  const tree = list.filter(v => v.parentId === 0)

  const printName = (item, depth = 0) => {
    const addPlace = length => new Array(length).fill(' ').join('')

    console.log(`${addPlace(depth)}${item.name}`)

    const NUM = item.children ? item.children.length : 0

    if (NUM > 0) {
      item.children.map(v => {
        printName(v, depth + 1)
      })
    }
  }

  tree.map(v => printName(v, 0))
}

const list = [
  {id: 1001, parentId: 0, name: 'A'},
  {id: 1002, parentId: 1001, name: 'B'},
  {id: 1003, parentId: 1001, name: 'C'},
  {id: 1004, parentId: 1002, name: 'D'},
  {id: 1005, parentId: 1003, name: 'E'},
  {id: 1006, parentId: 1004, name: 'F'},
  {id: 1007, parentId: 1005, name: 'G'},
]

console.log(formatTree(list))
```