### 实现 lodash _.get

```javascript
function get(target, ...rest) {
  var getKeys = str => {
    var isIndex = str => str.startsWith('[')
    var matchIndex = /\[([0-9]*)\]/
    var matchKey = /^[a-z0-9]+/i
  
    var arr = []
    while(str.length !== 0) {
      function replacer(match, ...rest) {
        var _key = isIndex(str) ? rest[0] : match
        arr.push(_key)
        return ''
      }
  
      if (isIndex(str)) {
        str = str.replace(matchIndex, replacer);
        console.log('isIndex', str)
      } else {
        str = str.replace(matchKey, replacer);
      }
    }

    return arr
  }

  return rest.map(v => {
    return v.split('.').map(_v => getKeys(_v)).flat().reduce((pre, value) => {
      return pre[value]
    }, target)
  })
}

var object = { 'a': [{ 'b': { 'c': 3 } }, ['d']] };
 
console.log(get(object, 'a[0].b.c', 'a[0].b', 'a[1][0]'))
// => 3
```

### 实现 flat
```javascript

function flat(target, depth = 1) {
  if (depth <= 0) {
    return target.slice()
  }

  return target.reduce((pre, value) => {
    if (Array.isArray(value)) {
      pre = pre.concat(flat(value, depth - 1))
    } else {
      pre.push(value)
    }

    return pre
  }, [])
}

var arr1 = [1,2,3,[1,2,3,4, [2,3,4]]];

console.log(flat(arr1, 1))
```

### promise 输出和返回
```
new Promise((res, rej) => {
  console.log(2)
  rej(3)
}).catch(res => console.log(res))
.then((res => console.log(res), rej => console.log(rej)))

// 2
// 3
// undefined
// Promise {<fulfilled>: undefined}

new Promise((res, rej) => {
  console.log(2)
  rej(3)
})

// 2
// Promise {<rejected>: 3}

new Promise((res, rej) => {
  console.log(2)
  rej(3)
}).catch(res => console.log(res))

// 2
// 3
// Promise {<fulfilled>: undefined}

new Promise((res, rej) => {
  console.log(2)
  res(3)
})

// 2
// Promise {<fulfilled>: 3}
```
