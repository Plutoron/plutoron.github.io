### webpack4+react+babel 踩坑
自己踩坑的经历 

#### react-router

issue: 定义的 BrowserRouter, 路由刷新 报 cannot get /xxx

answer:  
* 本地webpack 配置 
  ``` 
  devServer: {
    historyApiFallback: true,
  }
  ```
  *只适合开发环境中进行配置*
  *线上环境需要服务器支持*

* BrowserRouter 改为 HashRouter   
  1. 路由会有 # 号，影响美观
  2. 不能使用服务器渲染

#### Babel7

issue: Support for the experimental syntax 'classProperties' isn't currently enabled 

answer: 

```
npm i -D @babel/plugin-proposal-class-properties


配置.babelrc 

{ 
  "plugins": [ 
    [
      "@babel/plugin-proposal-class-properties", 
      { "loose": true }
    ] 
  ] 
}   

```

issue: babel 在每个文件都插入了辅助代码，使代码体积过大！

answer: 
```
你必须执行 
npm install @babel/plugin-transform-runtime --save-dev 来把它包含到你的项目中，也要使用 
npm install babel-runtime --save-dev 把 babel-runtime 安装为一个依赖

修改.babelrc

"plugins": [
  ...
  "@babel/transform-runtime",
  ...
]
```

issue: this.setDynamic is not a function

answer: 
```
babel7-
npm install babel-plugin-transform-runtime --save-dev

babel7+ 插件 修改
npm install @babel/plugin-transform-runtime --save-dev
```

issuce: export 'default' (imported as 'xxx') was not found in 'xxx' 

answer: 
```
babel 自身没有将 es6 的代码编译成 es5
npm install @babel/plugin-transform-modules-commonjs -D
```