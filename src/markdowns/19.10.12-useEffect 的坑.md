### 坑啊
wrong
```
useEffect(async () => {
  setTableLoading(true)
  try {
    const res = await io.getUserList({
      activityId,
      phone,
      userName,
      currentPage,
      pageSize,
    })

    setTotal(res.count)
    setList(res.data)
    setTableLoading(false)
  } catch (e) {
    setTableLoading(false)
    message.error(e.message)
  }
}, [query])
```
right
```
useEffect(() => {
  const fetchData = async () => {
    setTableLoading(true)
    try {
      const res = await io.getUserList({
        activityId,
        phone,
        userName,
        currentPage,
        pageSize,
      })

      setTotal(res.count)
      setList(res.data)
      setTableLoading(false)
    } catch (e) {
      setTableLoading(false)
      message.error(e.message)
    }
  }

  fetchData()
}, [query])

```