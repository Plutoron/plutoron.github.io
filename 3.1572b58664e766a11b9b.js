(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{110:function(e,n){function t(n,o){return e.exports=t=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},t(n,o)}e.exports=t},111:function(e,n){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},115:function(e){e.exports=JSON.parse('{"a":[{"name":"浙江省","code":1,"cities":[{"name":"杭州市","code":11,"areas":[{"name":"西湖区","code":111},{"name":"余杭区","code":112}]},{"name":"宁波市","code":12,"areas":[{"name":"江北区","code":121},{"name":"江东区","code":122}]}]},{"name":"广东省","code":2,"cities":[{"name":"广州市","code":21,"areas":[{"name":"白云区","code":211},{"name":"天河区","code":212}]},{"name":"深圳市","code":22,"areas":[{"name":"宝安区","code":221},{"name":"南山区","code":222}]}]}]}')},116:function(e,n){e.exports=function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}},117:function(e,n){e.exports='<h4 id="目录结构">目录结构</h4> <ul> <li>demo.js</li> <li>province.json</li> <li>region-select.js</li> <li>region-select-v2.js</li> <li>region-select-v2-item.js</li> </ul> <h5 id="demojs">demo.js</h5> <pre><code>import {Component, Fragment} from &#39;react&#39;\nimport RegionSelect from &#39;./region-select&#39;\nimport RegionSelectV2 from &#39;./region-select-v2&#39;\n\nimport {provinces} from &#39;./provinces.json&#39;\n\nclass Demo extends Component {\n  state = {\n    value: [1, 11, 111],\n  }\n\n  handleRegionChange = value =&gt; {\n    console.log(value)\n  }\n\n  // format 数据格式 为 antd 通用的 数据格式\n  formatProvince = (item) =&gt; {\n    const formated = item.map(v =&gt; {\n      let children = []\n\n      if (v.areas || v.cities) {\n        children = this.formatProvince(v.areas || v.cities)\n      }\n\n      return {\n        label: v.name,\n        value: v.code,\n        children,\n      }\n    })\n\n    return formated\n  }\n\n  render() {\n    const { value } = this.state\n\n    return (&lt;Fragment&gt;\n      &lt;div&gt;Normal&lt;/div&gt;\n\n      &lt;RegionSelect\n        defaultValue={value} \n        dataSource={this.formatProvince(provinces)}\n        onChange={this.handleRegionChange}\n        showSearch\n        allowClear\n      /&gt;\n\n      &lt;div&gt;v2&lt;/div&gt;\n\n      &lt;RegionSelectV2\n        defaultValue={value} \n        dataSource={this.formatProvince(provinces)}\n        onChange={this.handleRegionChange}\n        showSearch\n        allowClear\n      /&gt;\n    &lt;/Fragment&gt;)\n  }\n}\n\nexport default Demo</code></pre><h5 id="region-selectjs">region-select.js</h5> <pre><code>import React, {Component} from &#39;react&#39;\nimport {Select} from &#39;antd&#39;\n\nconst {Option} = Select\n\nclass RegionSelect extends Component {\n  state = {\n    value: this.props.defaultValue,\n    provinceList: [],\n    cityList: [],\n    areaList: [],\n    loading: false,\n  }\n\n  componentDidMount() {\n    this.getLists()\n  }\n\n  getLists = () =&gt; {\n    const {\n      props: {dataSource},\n      state: {value},\n    } = this\n\n    this.setState({\n      loading: true\n    })\n\n    const provinceList = [...dataSource]\n\n    const curProvince = dataSource.filter(v =&gt; v.value === value[0])\n\n    const cityList = curProvince.length &gt; 0 ? (curProvince[0].children || []) : []\n\n    const areaList = cityList.length &gt; 0 ? (cityList[0].children || []) : []\n\n    this.setState({\n      provinceList,\n      cityList,\n      areaList,\n      loading: false,\n    })\n  }\n\n  onProvinceChange = (provinceCode, extra) =&gt; {\n    const {\n      props: {onChange},\n    } = this\n\n    const value = [provinceCode, undefined, undefined]\n\n    this.setState({\n      cityList: extra ? extra.props.data : [],\n      areaList: [],\n      value,\n    })\n\n    onChange(value)\n  }\n\n  onCityChange = (cityCode, extra) =&gt; {\n    const {\n      props: {onChange},\n      state: {value},\n    } = this\n\n    value[1] = cityCode\n    value[2] = undefined\n\n    this.setState({\n      areaList: extra ? extra.props.data : [],\n      value,\n    })\n\n    onChange(value)\n  }\n\n  onAreaChange = (areaCode, extra) =&gt; {\n    const {\n      props: {onChange},\n      state: {value},\n    } = this\n\n    value[2] = areaCode\n\n    this.setState({\n      value,\n    })\n\n    onChange(value)\n  }\n\n  render() {\n    const {\n      props: {\n        showSearch,\n        allowClear,\n      },\n      state: {\n        provinceList,\n        cityList,\n        areaList,\n        value,\n        loading,\n      },\n    } = this\n\n    if (loading) return &lt;div&gt;加载中&lt;/div&gt;\n\n    return (\n      &lt;div style={{display: &#39;flex&#39;}}&gt;\n        &lt;div&gt;\n          省：\n          &lt;Select \n            value={value[0]} \n            style={{minWidth: 100, marginRight: 8}} \n            onChange={this.onProvinceChange}\n            showSearch={showSearch}\n            allowClear={allowClear}\n            placeholder=&quot;请选择&quot;\n            notFoundContent={&#39;暂无数据&#39;}\n            optionFilterProp={&#39;children&#39;}\n          &gt;\n            {\n              provinceList.map(v =&gt; &lt;Option value={v.value} data={v.children}&gt;{v.label}&lt;/Option&gt;)\n            }\n          &lt;/Select&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          市：\n          &lt;Select \n            value={value[1]} \n            style={{minWidth: 100, marginRight: 8}} \n            onChange={this.onCityChange} \n            showSearch={showSearch}\n            allowClear={allowClear}\n            placeholder=&quot;请选择&quot;\n            notFoundContent={&#39;请先选择省&#39;}\n            optionFilterProp={&#39;children&#39;}\n          &gt;\n            {\n              cityList.map(v =&gt; &lt;Option value={v.value} data={v.children}&gt;{v.label}&lt;/Option&gt;)\n            }\n          &lt;/Select&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          区：\n          &lt;Select \n            value={value[2]} \n            style={{minWidth: 100}} \n            onChange={this.onAreaChange} \n            showSearch={showSearch}\n            allowClear={allowClear}\n            placeholder=&quot;请选择&quot;\n            notFoundContent={&#39;请先选择市&#39;}\n            optionFilterProp={&#39;children&#39;}\n          &gt;\n            {\n              areaList.map(v =&gt; &lt;Option value={v.value}&gt;{v.label}&lt;/Option&gt;)\n            }\n          &lt;/Select&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n\nexport default RegionSelect</code></pre><h5 id="region-select-v2js">region-select-v2.js</h5> <pre><code>import React, {Component} from &#39;react&#39;\nimport RegionSelectItem from &#39;./region-select-v2-item&#39;\n\nclass RegionSelectV2 extends Component {\n  ... // 和上面的一样\n  ...\n\n  render() {\n    const {\n      props: {\n        showSearch,\n        allowClear,\n      },\n      state: {\n        provinceList,\n        cityList,\n        areaList,\n        value,\n        loading,\n      },\n    } = this\n\n    if (loading) return &lt;div&gt;加载中&lt;/div&gt;\n\n    return (\n      &lt;div style={{display: &#39;flex&#39;}}&gt;\n        &lt;div&gt;\n          &lt;RegionSelectItem \n            label={&#39;省&#39;}\n            separator={&#39;：&#39;}\n            value={value[0]} \n            style={{minWidth: 100, marginRight: 8}} \n            onChange={this.onProvinceChange}\n            showSearch={showSearch}\n            allowClear={allowClear}\n            placeholder=&quot;请选择&quot;\n            notFoundContent={&#39;暂无数据&#39;}\n            optionFilterProp={&#39;children&#39;}\n            options={provinceList}\n          /&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;RegionSelectItem \n            label={&#39;市&#39;}\n            separator={&#39;：&#39;}\n            value={value[1]} \n            style={{minWidth: 100, marginRight: 8}} \n            onChange={this.onCityChange} \n            showSearch={showSearch}\n            allowClear={allowClear}\n            placeholder=&quot;请选择&quot;\n            notFoundContent={&#39;请先选择省&#39;}\n            optionFilterProp={&#39;children&#39;}\n            options={cityList}\n          /&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;RegionSelectItem \n            label={&#39;区&#39;}\n            separator={&#39;：&#39;}\n            value={value[2]} \n            style={{minWidth: 100}} \n            onChange={this.onAreaChange} \n            showSearch={showSearch}\n            allowClear={allowClear}\n            placeholder=&quot;请选择&quot;\n            notFoundContent={&#39;请先选择市&#39;}\n            optionFilterProp={&#39;children&#39;}\n            options={areaList}\n          /&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n\nexport default RegionSelectV2</code></pre><h5 id="region-select-v2-itemjs">region-select-v2-item.js</h5> <pre><code>import * as React from &#39;react&#39;\nimport {Select} from &#39;antd&#39;\n\nconst {Option} = Select\n\nexport default ({\n  label, // 前面的label\n  separator, // 分割符\n  style, // 样式\n  className, // 类名\n  value, // 值\n  onChange, \n  showSearch, // 是否能搜索 同 antd Select\n  allowClear, // 是否支持清除 同 antd Select\n  placeholder, // 同 antd Select\n  notFoundContent, // 同 antd Select\n  optionFilterProp, // 同 antd Select\n  options, // 下拉数据\n}) =&gt; \n  &lt;&gt;\n    {\n      label ? \n        &lt;&gt;\n        {label}\n        {separator}\n        &lt;/&gt;\n        : null\n    }\n    &lt;Select \n      className={className}\n      style={{minWidth: 100, ...style}} \n      value={value} \n      onChange={onChange} \n      showSearch={showSearch}\n      allowClear={allowClear}\n      placeholder={placeholder}\n      notFoundContent={notFoundContent}\n      optionFilterProp={optionFilterProp}\n    &gt;\n      {\n        options.map(v =&gt; &lt;Option value={v.value} data={v.children}&gt;{v.label}&lt;/Option&gt;)\n      }\n    &lt;/Select&gt;\n  &lt;/&gt;</code></pre><h5 id="provincejson">province.json</h5> <pre><code>{\n  &quot;provinces&quot;: [\n    {\n      &quot;name&quot;: &quot;浙江省&quot;,\n      &quot;code&quot;: 1,\n      &quot;cities&quot;: [\n        {\n          &quot;name&quot;: &quot;杭州市&quot;,\n          &quot;code&quot;: 11,\n          &quot;areas&quot;: [{ &quot;name&quot;: &quot;西湖区&quot;, &quot;code&quot;: 111 }, { &quot;name&quot;: &quot;余杭区&quot;, &quot;code&quot;: 112 }]\n        },\n        {\n          &quot;name&quot;: &quot;宁波市&quot;,\n          &quot;code&quot;: 12,\n          &quot;areas&quot;: [{ &quot;name&quot;: &quot;江北区&quot;, &quot;code&quot;: 121 }, { &quot;name&quot;: &quot;江东区&quot;, &quot;code&quot;: 122 }]\n        }\n      ]\n    },\n    {\n      &quot;name&quot;: &quot;广东省&quot;,\n      &quot;code&quot;: 2,\n      &quot;cities&quot;: [\n        {\n          &quot;name&quot;: &quot;广州市&quot;,\n          &quot;code&quot;: 21,\n          &quot;areas&quot;: [{ &quot;name&quot;: &quot;白云区&quot;, &quot;code&quot;: 211 }, { &quot;name&quot;: &quot;天河区&quot;, &quot;code&quot;: 212 }]\n        },\n        {\n          &quot;name&quot;: &quot;深圳市&quot;,\n          &quot;code&quot;: 22,\n          &quot;areas&quot;: [{ &quot;name&quot;: &quot;宝安区&quot;, &quot;code&quot;: 221 }, { &quot;name&quot;: &quot;南山区&quot;, &quot;code&quot;: 222 }]\n        }\n      ]\n    }\n  ]\n}</code></pre>'},268:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return W}));var o=t(80),a=t.n(o),r=t(81),l=t.n(r),i=t(82),c=t.n(i),u=t(83),s=t.n(u),p=t(85),h=t.n(p),d=t(0),v=t.n(d),g=t(86),f=t.n(g),m=t(84),C=t.n(m),y=(t(89),t(76));function q(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=h()(e);if(n){var a=h()(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return s()(this,t)}}var S=y.a.Option,w=function(e){c()(t,e);var n=q(t);function t(){var e;a()(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return(e=n.call.apply(n,[this].concat(r))).state={value:e.props.defaultValue,provinceList:[],cityList:[],areaList:[],loading:!1},e.getLists=function(){var n=C()(e),t=n.props.dataSource,o=n.state.value;e.setState({loading:!0});var a=f()(t),r=t.filter((function(e){return e.value===o[0]})),l=r.length>0&&r[0].children||[],i=l.length>0&&l[0].children||[];e.setState({provinceList:a,cityList:l,areaList:i,loading:!1})},e.onProvinceChange=function(n,t){var o=C()(e).props.onChange,a=[n,void 0,void 0];e.setState({cityList:t?t.props.data:[],areaList:[],value:a}),o(a)},e.onCityChange=function(n,t){var o=C()(e),a=o.props.onChange,r=o.state.value;r[1]=n,r[2]=void 0,e.setState({areaList:t?t.props.data:[],value:r}),a(r)},e.onAreaChange=function(n,t){var o=C()(e),a=o.props.onChange,r=o.state.value;r[2]=n,e.setState({value:r}),a(r)},e}return l()(t,[{key:"componentDidMount",value:function(){this.getLists()}},{key:"render",value:function(){var e=this.props,n=e.showSearch,t=e.allowClear,o=this.state,a=o.provinceList,r=o.cityList,l=o.areaList,i=o.value;return o.loading?v.a.createElement("div",null,"加载中"):v.a.createElement("div",{style:{display:"flex"}},v.a.createElement("div",null,"省：",v.a.createElement(y.a,{value:i[0],style:{minWidth:100,marginRight:8},onChange:this.onProvinceChange,showSearch:n,allowClear:t,placeholder:"请选择",notFoundContent:"暂无数据",optionFilterProp:"children"},a.map((function(e){return v.a.createElement(S,{value:e.value,data:e.children},e.label)})))),v.a.createElement("div",null,"市：",v.a.createElement(y.a,{value:i[1],style:{minWidth:100,marginRight:8},onChange:this.onCityChange,showSearch:n,allowClear:t,placeholder:"请选择",notFoundContent:"请先选择省",optionFilterProp:"children"},r.map((function(e){return v.a.createElement(S,{value:e.value,data:e.children},e.label)})))),v.a.createElement("div",null,"区：",v.a.createElement(y.a,{value:i[2],style:{minWidth:100},onChange:this.onAreaChange,showSearch:n,allowClear:t,placeholder:"请选择",notFoundContent:"请先选择市",optionFilterProp:"children"},l.map((function(e){return v.a.createElement(S,{value:e.value},e.label)})))))}}]),t}(d.Component),b=t(116),L=t.n(b);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){L()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var O=y.a.Option,F=function(e){var n=e.label,t=e.separator,o=e.style,a=e.className,r=e.value,l=e.onChange,i=e.showSearch,c=e.allowClear,u=e.placeholder,s=e.notFoundContent,p=e.optionFilterProp,h=e.options;return d.createElement(d.Fragment,null,n?d.createElement(d.Fragment,null,n,t):null,d.createElement(y.a,{className:a,style:R({minWidth:100},o),value:r,onChange:l,showSearch:i,allowClear:c,placeholder:u,notFoundContent:s,optionFilterProp:p,getPopupContainer:function(e){return e.parentNode}},h.map((function(e){return d.createElement(O,{value:e.value,data:e.children},e.label)}))))};function x(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=h()(e);if(n){var a=h()(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return s()(this,t)}}var j=function(e){c()(t,e);var n=x(t);function t(){var e;a()(this,t);for(var o=arguments.length,r=new Array(o),l=0;l<o;l++)r[l]=arguments[l];return(e=n.call.apply(n,[this].concat(r))).state={value:e.props.defaultValue,provinceList:[],cityList:[],areaList:[],loading:!1},e.getLists=function(){var n=C()(e),t=n.props.dataSource,o=n.state.value;e.setState({loading:!0});var a=f()(t),r=t.filter((function(e){return e.value===o[0]})),l=r.length>0&&r[0].children||[],i=l.length>0&&l[0].children||[];e.setState({provinceList:a,cityList:l,areaList:i,loading:!1})},e.onProvinceChange=function(n,t){var o=C()(e).props.onChange,a=[n,void 0,void 0];e.setState({cityList:t?t.props.data:[],areaList:[],value:a}),o(a)},e.onCityChange=function(n,t){var o=C()(e),a=o.props.onChange,r=o.state.value;r[1]=n,r[2]=void 0,e.setState({areaList:t?t.props.data:[],value:r}),a(r)},e.onAreaChange=function(n,t){var o=C()(e),a=o.props.onChange,r=o.state.value;r[2]=n,e.setState({value:r}),a(r)},e}return l()(t,[{key:"componentDidMount",value:function(){this.getLists()}},{key:"render",value:function(){var e=this.props,n=e.showSearch,t=e.allowClear,o=this.state,a=o.provinceList,r=o.cityList,l=o.areaList,i=o.value;return o.loading?v.a.createElement("div",null,"加载中"):v.a.createElement("div",{style:{display:"flex"}},v.a.createElement("div",null,v.a.createElement(F,{label:"省",separator:"：",value:i[0],style:{minWidth:100,marginRight:8},onChange:this.onProvinceChange,showSearch:n,allowClear:t,placeholder:"请选择",notFoundContent:"暂无数据",optionFilterProp:"children",options:a})),v.a.createElement("div",null,v.a.createElement(F,{label:"市",separator:"：",value:i[1],style:{minWidth:100,marginRight:8},onChange:this.onCityChange,showSearch:n,allowClear:t,placeholder:"请选择",notFoundContent:"请先选择省",optionFilterProp:"children",options:r})),v.a.createElement("div",null,v.a.createElement(F,{label:"区",separator:"：",value:i[2],style:{minWidth:100},onChange:this.onAreaChange,showSearch:n,allowClear:t,placeholder:"请选择",notFoundContent:"请先选择市",optionFilterProp:"children",options:l})))}}]),t}(d.Component),E=(t(95),t(115));function D(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=h()(e);if(n){var a=h()(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return s()(this,t)}}var W=function(e){c()(o,e);var n=D(o);function o(){var e;a()(this,o);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return(e=n.call.apply(n,[this].concat(r))).state={defaultValue:[1,11,111]},e.handleRegionChange=function(e){console.log(e)},e.formatProvince=function(n){return n.map((function(n){var t=[];return(n.areas||n.cities)&&(t=e.formatProvince(n.areas||n.cities)),{label:n.name,value:n.code,children:t}}))},e}return l()(o,[{key:"render",value:function(){var e=this.state.defaultValue;return v.a.createElement(d.Fragment,null,v.a.createElement("div",{style:{marginBottom:8}},"Normal"),v.a.createElement(w,{defaultValue:e,dataSource:this.formatProvince(E.a),onChange:this.handleRegionChange,showSearch:!0,allowClear:!0}),v.a.createElement("div",{style:{marginBottom:8}},"v2"),v.a.createElement(j,{defaultValue:e,dataSource:this.formatProvince(E.a),onChange:this.handleRegionChange,showSearch:!0,allowClear:!0}),v.a.createElement("div",{style:{marginTop:16}},"markdown 代码区域"),v.a.createElement("article",{className:"markdown-body mt20 mb20",dangerouslySetInnerHTML:{__html:t(117)}}))}}]),o}(d.Component)},80:function(e,n){e.exports=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},81:function(e,n){function t(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}},82:function(e,n,t){var o=t(110);e.exports=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&o(e,n)}},83:function(e,n,t){var o=t(111),a=t(84);e.exports=function(e,n){return!n||"object"!==o(n)&&"function"!=typeof n?a(e):n}},84:function(e,n){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},85:function(e,n){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t}}]);